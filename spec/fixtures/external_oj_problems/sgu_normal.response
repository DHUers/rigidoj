                               <html><head><title> SSU Online Contester :: 493. Illumination of Buildings </title><META http-equiv='content-type' content='text/html; charset=windows-1251'><link rel=stylesheet type=text/css href='/texstyle.css'></head><body><div style='line-height:1.3em;'><div align=center><h4>493. Illumination of Buildings</h4></div><div align=center>Time limit per test: 0.25 
 second(s)<br />Memory limit: 262144
 kilobytes</div><div align=center>input: standard<br />output: standard</div><br/><br /><br />The city of Harbin is famous for the nighttime illumination of its buildings. Unfortunately, the economic crisis of the world has not left the welfare of the city undisturbed. An audit performed by the city council has revealed that lighting is the single largest expense in the budget of the city. Accordingly, it was decided to cut the costs for lightning as much as possible, but without sacrificing the quality of the illumination, as the council has no desire to damage the world fame of the city.<br /><br />Let's consider a 2-dimensional model of the city where each building is described by three integers <i>L</i>, <i>R</i>, <i>H</i> and modeled as a rectangle with edges parallel to the coordinate axes and two opposing corners at the points (<i>L</i>, 0) and (<i>R</i>, <i>H</i>). It may be assumed that the rectangles in the model do not intersect and even do not touch each other. Line segments <img style='vertical-align:text-bottom;position:relative;top:-2px;' src='/cache/42d22709b0ec618d11a1a200f3080bfb.png'/> and <img style='vertical-align:text-bottom;position:relative;top:-2px;' src='/cache/8322daa09dce4c5a0c0b96b0db4d050f.png'/> are called the side edges and line segment <img style='vertical-align:text-bottom;position:relative;top:-2px;' src='/cache/4395d2024d4e4da5f670f75381956253.png'/> the top edge.<br /><br />The city council plans to install a number of light sources to illuminate the buildings. Each light source is to be installed on a top edge of a building (possibly on an endpoint of the top edge). There may be any number of light sources on one building. It is known that a light source installed at (<i>x</i><sub>1</sub>, <i>y</i><sub>1</sub>) will illuminate all points (<i>x</i><sub>2</sub>, <i>y</i><sub>2</sub>) where the line segment <img style='vertical-align:text-bottom;position:relative;top:-2px;' src='/cache/8bf3c79e9020fcc3df0bccb892f485a6.png'/> does not contain any internal points of any buildings. It is allowed for the segment to contain any (even infinite) number of edge and corner points of buildings.<br /><br /> <img width = "454px" height="215px" src="problems/0/p493_1.png"/><br> <br /><br />The figure above shows a light source and all points illuminated by it.<br /><br />You are asked to install the minimal number of light sources to ensure that both sides of each building are completely illuminated. A side of a building is completely illuminated if for every point <i>P</i> on the side (including endpoints) there exists at least one light source <i>L</i> that illuminates the point <i>P</i>.<br /><br /><div align = left style='margin-top:1em;'><b>Input</b></div>The input file contains several test cases. The first line of the file contains <i>T</i> (<img style='vertical-align:text-bottom;position:relative;top:-2px;' src='/cache/d729beb9181255badaae7ec803e88e4c.png'/>), the number of test cases. The line is followed by <i>T</i> blocks, each describing a test case.<br /><br />The first line of a block contains <i>N</i> (1 &le; <i>N</i> &le; 1000), the number of buildings in the city. Each of the following <i>N</i> lines describes one building and contains three integers <i>L</i>, <i>R</i> and <i>H</i> (<img style='vertical-align:text-bottom;position:relative;top:-2px;' src='/cache/843dc99db197a2c06bfa9eeaf4adabd5.png'/>, <img style='vertical-align:text-bottom;position:relative;top:-2px;' src='/cache/db1a2693fedee782361632d0c624c828.png'/>).<br /><br />It may be assumed that the sum of squares of values of <i>N</i> over all test cases in an input file does not exceed <img style='vertical-align:text-bottom;position:relative;top:-2px;' src='/cache/df8db923a5461f2f6f8be89ae708cf18.png'/>.<br /><br /><div align = left style='margin-top:1em;'><b>Output</b></div>The output file should contain one line for each test case given in the input file. Each line should contain a single integer, the minimal number of light sources required to illuminate both side edges of all the buildings in the city.<br /><br /><div align = left style='margin-top:1em;'><b>Example(s)</b></div>
<table cellspacing=0 cellpadding=4
 style='border-collapse:collapse; border: 1px black solid;'>
 <tr >
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>sample input</pre>
 </td>
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>sample output</pre>
 </td>
 </tr>
 <tr >
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>
2
4
3 4 1
5 6 1
7 8 1
1 2 10
6
3 4 1
5 6 1
7 8 1
1 2 10
11 12 10
9 10 1
</pre>
 </td>
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>
5
4
</pre>
 </td>
 </tr>
</table><br>
<br /><br /> </div><hr><table width=100% cellpadding=0 cellspacing=0 border=0><tr style='background-color : #FFFFFF;'><td align=right><a target=_top href='mailto:acm@cs.sgu.ru'>Online Contester</a> Team &copy; 2002 - 2010. All rights reserved.</td></tr></table></body></html>