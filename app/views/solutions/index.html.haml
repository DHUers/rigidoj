.gxxiao945900
  - content_for :title, 'Solutions'

- if params[:contest_id]
  - contest = Contest.find(params[:contest_id])
  .row
    .col-xs-12
      %ol.breadcrumb
        %li= link_to 'Home', root_path
        %li= link_to 'Contests', contests_path
        %li= link_to contest.title, show_contest_path(contest.slug, contest.id)
        %li.active Solutions
.row
  .col-xs-12
    .panel.panel-default
      .panel-heading.clearfix
        %h4.pull-left
          Submission
        - unless params[:contest_id]
          %a{role: 'button', class: 'btn btn-default pull-right',
              href: new_solution_path}
            Submit
      - unless @solutions.blank?
        .table-responsive
          %table#solution-listings.table.table-bordered.table-condensed.table-hover
            %thead
              %th #
              %th Submission time
              %th Author
              %th Problem
              %th Platform
              %th Status
              %th Time
              %th Memory
            %tbody
              - @solutions.each do |s|
                %tr
                  %td= s.id
                  %td= s.created_at.to_formatted_s(:long_add_second)
                  %td= link_to s.user.username, s.user
                  %td= link_to "#{s.problem.id} - #{s.problem.title}", show_problem_path(s.problem.slug, s.problem.id)
                  %td= s.platform
                  %td= SiteSetting.solution_statuses[Solution.statuses[s.status]]
                  %td= show_details?(s) ? "#{s.time_usage} ms" : '-'
                  %td= show_details?(s) ? "#{s.memory_usage} KB" : '-'
      - else
        .panel-body
          There is no submission at this time.
    = paginate @solutions, window: 3
